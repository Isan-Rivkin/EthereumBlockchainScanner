<div class="container">
  <div class="col-md-12">
    <h1>Entity List</h1>

    <form class="navbar-form navbar-left">
      <div class="input-group-btn search  -panel">
        <h3> Search:</h3>
        <!--<label class="container"> No Good Filter: <input type="radio" checked="checked" name="good"-->
                                               <!--[(ngModel)]="searchEntity.good" ></label>-->
        <!--<label class="container"> Good: <input type="radio"  name="good"-->
                      <!--[(ngModel)]="searchEntity.good" ></label>-->
        <form action="">
        Bad: <input type="radio"  name="bad" [(ngModel)]="searchEntity.good" value="bad"  >
        Good: <input type="radio"  name="good" [(ngModel)]="searchEntity.good" value="good">
        </form>


      <p>Interesting: <input type="text"
                      name="interesting"
                      [(ngModel)]="searchEntity.interesting" placeholder="1-3 " required/>
                      <span class="checkmark"></span></p>
        <p> <input type="text" placeholder="Enter public key / Type"
                   name="searchText" class="form-control"
                               [(ngModel)]="searchText"  required/></p>
        <button (click)="searchEntities()" class="btn btn-default">Search</button>
      </div>


      <div class="input-group-btn group-by-panel">
        <h3> Search By:</h3>


        <ul class="dropdown-menu" role="menu">
          <li><a  (click)=groupBy(1)>Good</a></li>
          <li><a  (click)=groupBy(2)>Interesting</a></li>
          <li><a  (click)=groupBy(3)>Type</a></li>

        </ul>


        <!--<form action="">-->
          <!--Bad: <input type="radio"  name="bad" [(ngModel)]="groupByhEntity.good" value="bad"  checked="checked"  >-->
          <!--Good: <input type="radio"  name="good" [(ngModel)]="groupByhEntity.good" value="good">-->
        <!--</form>-->

        <!--<p>Interesting: <input type="text"-->
                               <!--name="interesting"-->
                               <!--[(ngModel)]="groupByhEntity.interesting" placeholder="1-3"/></p>-->
        <!--<p>Type: <input type="text"-->
                        <!--name="interesting"-->
                        <!--[(ngModel)]="groupByhEntity.type" /></p>-->
        <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
          <h5>{{filterName}}</h5><span id="search_concept"></span> <span class="caret"></span>
        </button>
        <button (click)="groupByEntities()" class="btn btn-default">Search</button>




      </div>


    </form>

    <table class="table table-bordered table-striped table-hover">
      <thead>
      <tr>
        <th class="text-center">ADDRESS</th>
        <th class="text-center">TYPE</th>
        <th class="text-center">COMMENT</th>
        <th class="text-center">GOOD</th>
        <th class="text-center">INTERESTING</th>
        <th class="text-center">&nbsp;</th>
      </tr>


      </thead>
      <tbody>
      <tr *ngFor="let entity of entities">
        <td>{{ entity.address }}</td>
        <td>{{ entity.type }}</td>
        <td>{{ entity.comment }}</td>
        <td>{{ entity.good}}</td>
        <td>{{ entity.interesting}}</td>
        <td>
          <button class="btn btn-info"
                  (click)="showEditEntityForm(entity)">
            <i class="fa fa-edit"></i>
            Edit</button>
          <button class="btn btn-danger"
                  (click)="removeEntity(entity)">
            <i class="fa fa-minus"></i>
            Remove</button>
        </td>
      </tr>
      </tbody>
    </table>

    <button class="btn btn-success"
            (click)="showAddEntityForm()"><i class="fa fa-plus"></i>Add</button>
    <br />
    <br />

    <form *ngIf="entityForm">
      <h2>Add New Entity</h2>
      <p>Address: <input type="text"
                    name="address"
                    [(ngModel)]="newEntity.address" /></p>
      <p>Type: <input type="text"
                      name="type"
                      [(ngModel)]="newEntity.type" /></p>
      <p>Comment: <input type="text"
                             name="comment"
                             [(ngModel)]="newEntity.comment" /></p>
      <p>Good: <input type="checkbox"
                       name="good" value="ON"
                       [(ngModel)]="newEntity.good" /></p>
      <p>Interesting: <input type="text"
                      name="interesting" placeholder="1-3"
                      [(ngModel)]="newEntity.interesting" /></p>
      <p>
        <button type="button"
                class="btn btn-primary"
                (click)="saveEntity(newEntity)">Submit</button>
        <button type="button"
                class="btn btn-warning"
                (click)="cancelNewEntity()">Cancel</button>
      </p>
    </form>

    <form *ngIf="editEntityForm">
      <h2>Edit Entity Details</h2>
      <p>Address: <input type="text"
                         name="address"
                         [(ngModel)]="editedEntity.address" /></p>
      <p>Type: <input type="text"
                      name="type"
                      [(ngModel)]="editedEntity.type" /></p>
      <p>Comment: <input type="text"
                         name="comment"
                         [(ngModel)]="editedEntity.comment" /></p>
      <p>Good: <input type="checkbox"
                      name="good" value="ON"
                      [(ngModel)]="editedEntity.good" /></p>
      <p>Interesting: <input type="text"
                             name="interesting" placeholder="1-3"
                             [(ngModel)]="editedEntity.interesting" /></p>
      <p>
        <button type="button"
                class="btn btn-primary"
                (click)="updateEntity(editedEntity)">Submit</button>
        <button type="button"
                class="btn btn-warning"
                (click)="cancelEdits()">Cancel</button>
      </p>

    </form>

    <!-- Isan start -->
    <table class="table table-bordered table-striped table-hover">
      <thead>
      <tr>
        <th class="text-center">Group Value</th>
        <th class="text-center">Count</th>
        <th class="text-center">&nbsp;</th>
      </tr>


      </thead>
      <tbody>
      <tr *ngFor="let entity of groupby_entities">
        <td>{{ entity.__id }}</td>
        <td>{{ entity.count }}</td>
      </tr>
      </tbody>
    </table>
    <!-- Isan end -->
  </div>
</div>

